<project name="TechBlog" default="default" basedir=".">
    <description>Builds, tests, and runs the project TechBlog.</description>

    <!-- Define classpath to include servlet API -->
    <path id="compile.classpath">
        <fileset dir="libs">
            <include name="javax.servlet-api-3.1.0.jar"/>
        </fileset>
    </path>

    <!-- Define classpath for runtime (include servlet JAR) -->
    <path id="runtime.classpath">
        <fileset dir="libs">
            <include name="javax.servlet-api-3.1.0.jar"/>
        </fileset>
    </path>

    <!-- Clean target -->
    <target name="clean">
        <delete dir="build"/>
    </target>

    <!-- Compile target -->
    <target name="compile">
        <javac srcdir="src" destdir="build/classes" classpathref="compile.classpath" />
    </target>

    <!-- Create a JAR or WAR (adjust this if you need a WAR) -->
    <target name="dist" depends="compile">
        <mkdir dir="build/dist"/>
        <jar destfile="build/dist/TechBlog.war" basedir="build/classes"/>
    </target>

    <!-- Custom target for GitHub Actions -->
    <target name="ci-build" depends="clean,compile,dist">
        <echo>Building project for CI/CD...</echo>
    </target>

    <!-- Default target -->
    <target name="default" depends="clean,compile,dist"/>
</project>
